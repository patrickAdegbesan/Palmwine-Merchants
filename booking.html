<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Get a Quote • Palmwine Merchants & Flames</title>
  <meta name="description" content="Self-serve quote for palmwine service, open-flame cuisine, and event add-ons." />
  <meta name="paystack-public-key" content="pk_live_94ab90ae335acee3f0a8d78f713da2148b970154" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="img/comp_logo.jpg" type="image/png" sizes="32x32" />
  <link rel="apple-touch-icon" href="img/comp_logo.jpg" />
</head>
<body>
  <div id="announce" class="announce" role="region" aria-label="Announcement">
    <div class="announce-inner">
      <span class="spark">✦</span>
      <div class="announce-scroller" aria-live="polite">
        <div class="announce-row">
          <span class="announce-text" data-short="Bookings open — get an instant quote"> Bookings open — get an instant quote in seconds.</span>
          <a class="announce-link" href="https://wa.me/2348039490349?text=Hi%20Palmwine%20Merchants%20%E2%80%94%20I%27d%20like%20to%20ask%20about%20bookings" target="_blank" rel="noopener">WhatsApp</a>
        </div>
      </div>
      <button class="announce-close" aria-label="Close">×</button>
    </div>
  </div>

  <header class="site-header">
    <a href="index.html" class="brand">
      <img src="img/comp_logo.png" alt="Palmwine Merchants & Flames logo" />
    </a>
    <button class="nav-toggle" aria-label="Open menu" aria-expanded="false">☰</button>
    <nav class="site-nav" role="navigation">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="events.html">Events</a>
      <a href="menu.html">Menu</a>
      <a href="booking.html" aria-current="page">Booking</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <section class="hero small">
      <div class="hero-inner">
        <h1><span class="display">Get an Instant Quote</span></h1>
        <p class="tagline">Enter your event details. We’ll calculate line items, tax, delivery and deposit — ready to print or share.</p>
      </div>
    </section>

    <section class="section" id="quote">
      <div class="container">
        <h2>Booking Details</h2>
        <p class="lead">Tell us about your event. Prices are estimates — we’ll confirm on WhatsApp.</p>

        <form id="quote-form" class="form" autocomplete="on">
          <div class="two-col" style="align-items:flex-start">
            <div>
              <label for="clientName">Full Name</label>
              <input id="clientName" name="clientName" type="text" placeholder="e.g. Ade Ola" required />

              <label for="phone">WhatsApp Number</label>
              <input id="phone" name="phone" type="tel" inputmode="tel" placeholder="e.g. +234 803 123 4567" required />

              <label for="email">Email (optional)</label>
              <input id="email" name="email" type="email" placeholder="you@example.com" />

              <label for="date">Event Date</label>
              <input id="date" name="date" type="date" required />

              <label for="eventType">Event Type</label>
              <select id="eventType" name="eventType" required>
                <option value="Private">Private</option>
                <option value="Corporate">Corporate</option>
                <option value="Wedding">Wedding</option>
                <option value="Birthday">Birthday</option>
                <option value="Festival">Festival</option>
              </select>

              <label for="venue">Venue / Address</label>
              <textarea id="venue" name="venue" rows="3" placeholder="Venue name / address" required></textarea>

              <label for="guests">Expected Guests</label>
              <input id="guests" name="guests" type="number" min="10" step="1" placeholder="e.g. 80" required />
            </div>

            <div>
              <fieldset style="border:1px solid #eee;padding:12px;border-radius:12px;margin-bottom:12px">
                <legend style="padding:0 8px;font-weight:700;color:var(--leaf)">Service Package</legend>
                <label style="display:block;margin:6px 0"><input type="radio" name="basePackage" value="palmwine" required /> Palmwine Service</label>
                <label style="display:block;margin:6px 0"><input type="radio" name="basePackage" value="cocktails" /> Palmwine Cocktails</label>
                <label style="display:block;margin:6px 0"><input type="radio" name="basePackage" value="flame" /> Open‑Flame Cuisine (WhatsApp quote)</label>
                <label style="display:block;margin:6px 0"><input type="radio" name="basePackage" value="full" /> Full Experience — Palmwine + Flame (WhatsApp quote)</label>
                <small class="muted">Selecting Open‑Flame or Full Experience will open WhatsApp for manual pricing.</small>
              </fieldset>

              <label for="distanceKm">Delivery Distance (km from Lekki I)</label>
              <input id="distanceKm" name="distanceKm" type="number" min="0" step="1" placeholder="e.g. 12" />

              <div class="btn-row">
                <button class="btn primary" type="submit"><i class="fa-solid fa-calculator"></i> Compute Quote</button>
                <button class="btn secondary" id="btn-compute-print" type="button"><i class="fa-solid fa-print"></i> Compute + Print</button>
                <button class="btn ghost" type="reset"><i class="fa-solid fa-rotate"></i> Reset</button>
              </div>
              <p class="form-note">Estimates include tax where applicable. Delivery is distance‑based. A deposit is required to secure the date.</p>
            </div>
          </div>
        </form>

        <div id="invoice" class="invoice" style="display:none" aria-live="polite">
          <img src="img/comp1_logo.png" alt="" class="invoice-watermark" aria-hidden="true" />
          <div class="invoice-head">
            <div>
              <img src="img/comp2_logo.png" alt="Palmwine Merchants & Flames logo" class="invoice-logo" />
              <h3 style="margin:0">Palmwine Merchants & Flames</h3>
              <small class="muted">Lagos, Nigeria · +234 803 949 0349 · Palmwinemerchants@gmail.com</small>
            </div>
            <div class="invoice-meta">
              <div><strong>Quote #</strong>: <span id="inv-id">—</span></div>
              <div><strong>Date</strong>: <span id="inv-date">—</span></div>
            </div>
          </div>

          <div class="invoice-party">
            <div>
              <strong>Billed To</strong>
              <div id="inv-client">—</div>
              <div class="muted" id="inv-contact">—</div>
            </div>
            <div>
              <strong>Event</strong>
              <div id="inv-event">—</div>
              <div class="muted" id="inv-venue">—</div>
            </div>
          </div>

          <div class="table-wrap">
            <table class="invoice-table">
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Qty</th>
                  <th>Unit</th>
                  <th class="ta-right">Amount</th>
                </tr>
              </thead>
              <tbody id="inv-rows"></tbody>
            </table>
          </div>

          <div class="totals">
            <div></div>
            <ul>
              <li><span>Subtotal</span><strong class="money" id="inv-subtotal">₦0</strong></li>
              <li><span>Delivery</span><strong class="money" id="inv-delivery">₦0</strong></li>
              <li><span>Tax</span><strong class="money" id="inv-tax">₦0</strong></li>
              <li class="grand"><span>Total</span><strong class="money" id="inv-total">₦0</strong></li>
              <li class="accent"><span>Deposit Due Now</span><strong class="money" id="inv-deposit">₦0</strong></li>
            </ul>
          </div>

          <div class="btn-row print-hide">
            <button class="btn secondary" id="btn-print"><i class="fa-solid fa-print"></i> Print / Save PDF</button>
            <a class="btn primary" id="btn-share" href="#" target="_blank" rel="noopener"><i class="fa-brands fa-whatsapp"></i> Share on WhatsApp</a>
            <a class="btn secondary" id="btn-itemized" href="#" target="_blank" rel="noopener" aria-label="Share itemized quote on WhatsApp"><i class="fa-brands fa-whatsapp"></i> Share Itemized</a>
            <a class="btn ghost" id="btn-discount" href="#" target="_blank" rel="noopener"><i class="fa-solid fa-tag"></i> Request Discount</a>
          </div>

          <p class="form-note">This is an estimate. Availability is not guaranteed until deposit is received. Prices may vary with final brief and logistics.</p>
        </div>

        <hr class="print-hide" style="margin:28px 0;border:0;border-top:1px solid #eee" />

        <h2 class="print-hide">Payment Confirmation</h2>
        <p class="lead print-hide">Secure your date by paying deposit or full amount, then send us your confirmation. Use the WhatsApp button for the fastest response. If you used the quote above, click "Use last quote" to autofill the reference.</p>

        <form id="payment-form" class="form print-hide" data-formspree="">
          <div class="two-col" style="align-items:flex-start">
            <div>
              <label for="payQuoteId">Quote / Invoice ID</label>
              <div style="display:flex;gap:8px;align-items:center">
                <input id="payQuoteId" name="quoteId" type="text" placeholder="e.g. PMF-20250827-1234" required />
                <button id="use-quote" type="button" class="btn ghost" aria-label="Use last quote id">Use last quote</button>
              </div>

              <label for="payerName">Payer Full Name</label>
              <input id="payerName" name="payerName" type="text" placeholder="Your name" required />

              <label for="payPhone">Phone (WhatsApp)</label>
              <input id="payPhone" name="phone" type="tel" inputmode="tel" placeholder="e.g. +234 803 123 4567" required />

              <label for="payEmail">Email (optional)</label>
              <input id="payEmail" name="email" type="email" placeholder="you@example.com" />
            </div>

            <div>
              <label for="amountPaid">Amount Paid (₦)</label>
              <input id="amountPaid" name="amountPaid" type="number" min="0" step="100" placeholder="e.g. 250000" required />

              <label for="paymentMethod">Payment Method</label>
              <select id="paymentMethod" name="paymentMethod" required>
                <option value="Transfer">Transfer</option>
                <option value="Paystack">Paystack</option>
                <option value="POS">POS</option>
                <option value="Cash">Cash</option>
                <option value="Other">Other</option>
              </select>

              <label for="txRef">Transaction Reference</label>
              <div style="display:flex;gap:8px;align-items:center">
                <input id="txRef" name="txRef" type="text" placeholder="Bank ref / POS slip / Note or Paystack ref" />
                <button id="btn-verify-paystack" type="button" class="btn ghost" aria-label="Verify Paystack payment">Verify</button>
              </div>
              <small id="verify-result" class="muted" role="status" aria-live="polite"></small>

              <label for="paymentDate">Payment Date</label>
              <input id="paymentDate" name="paymentDate" type="date" required />

              <label for="notes">Notes (optional)</label>
              <textarea id="notes" name="notes" rows="3" placeholder="Any extra info"></textarea>

              <div class="btn-row">
                <button class="btn secondary" id="btn-paystack-card" type="button"><i class="fa-solid fa-credit-card"></i> Pay with Card</button>
                <button class="btn primary" type="submit"><i class="fa-solid fa-paper-plane"></i> Send Confirmation</button>
                <a class="btn secondary" id="btn-pay-wa" href="#" target="_blank" rel="noopener"><i class="fa-brands fa-whatsapp"></i> Send on WhatsApp</a>
              </div>
              <small id="pay-status" class="muted" role="status" aria-live="polite"></small>
              
              <!-- Payment Confirmation Barcode -->
              <div id="payment-barcode-section" class="payment-barcode" style="display:none;">
                <h4>Payment Confirmation</h4>
                <div id="barcode-container"></div>
                <p class="barcode-info">Your payment confirmation code: <strong id="confirmation-code"></strong></p>
                <button id="btn-download-barcode" class="btn accent btn-fit" type="button"><i class="fa-solid fa-download"></i> Download Barcode</button>
              </div>
              
              <p class="form-note">Tip: Add a screenshot of your payment when you message us on WhatsApp for faster verification.</p>
            </div>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Palmwine Merchants & Flames</h4>
          <p>Lagos' premier Afrocentric lifestyle brand celebrating palmwine, open-flame cuisine, and cultural experiences.</p>
          <div class="footer-social">
            <a href="https://instagram.com/palmwinemerchants" target="_blank" rel="noopener" aria-label="Instagram">
              <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="https://wa.me/2348039490349" target="_blank" rel="noopener" aria-label="WhatsApp">
              <i class="fa-brands fa-whatsapp"></i>
            </a>
            <a href="mailto:Palmwinemerchants@gmail.com" aria-label="Email">
              <i class="fa-solid fa-envelope"></i>
            </a>
          </div>
        </div>
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul class="footer-links">
            <li><a href="events.html#upcoming">Upcoming Events</a></li>
            <li><a href="menu.html#cocktails">Signature Cocktails</a></li>
            <li><a href="about.html#about">About Us</a></li>
            <li><a href="contact.html#contact">Contact & Bookings</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Services</h4>
          <ul class="footer-links">
            <li><a href="events.html#events">Bush Party Events</a></li>
            <li><a href="contact.html#contact">Corporate Events</a></li>
            <li><a href="contact.html#contact">Private Celebrations</a></li>
            <li><a href="contact.html#contact">Palmwine Supply</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Contact Info</h4>
          <div class="footer-contact">
            <p><i class="fa-solid fa-phone"></i> +234 803 949 0349</p>
            <p><i class="fa-solid fa-envelope"></i> Palmwinemerchants@gmail.com</p>
            <p><i class="fa-solid fa-map-marker-alt"></i> Lagos, Nigeria</p>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <small>© <span id="year"></span> Palmwine Merchants & Flames • Lagos • All rights reserved.</small>
      </div>
    </div>
  </footer>

  <script src="https://js.paystack.co/v1/inline.js"></script>
  <script src="script.js"></script>
  <a class="fab-whatsapp" href="https://wa.me/2348039490349?text=Hi%20Palmwine%20Merchants%20—%20I%20have%20a%20quick%20question" target="_blank" rel="noopener" aria-label="Chat on WhatsApp">
    <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
    <span class="label" aria-hidden="true">Chat</span>
  </a>
</body>
</html>
